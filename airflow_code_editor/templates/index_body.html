{% raw %}
<div id="global-container" style="display: none">
    <sidebar id="sidebar"></sidebar>
    <div id="main-view">
        <div id="history-view" v-show='section == "localBranches" | section == "remoteBranches" | section == "tags"'>
            <div id="log-view" class="list-group"><svg xmlns="http://www.w3.org/2000/svg"></svg><div></div></div>
            <div id="commit-view">
                <div class="commit-view-header"></div>
                <div class="diff-view-container panel panel-default">
                    <div class="panel-heading btn-toolbar" role="toolbar">
                        <button type="button" class="btn btn-sm btn-default diff-ignore-whitespace" data-toggle="button">Ignore Whitespace</button>
                        <button type="button" class="btn btn-sm btn-default diff-context-all" data-toggle="button">Complete file</button>
                        <div class="btn-group btn-group-sm">
                            <span></span>&nbsp;
                            <button type="button" class="btn btn-default diff-context-remove">-</button>
                            <button type="button" class="btn btn-default diff-context-add">+</button>
                        </div>
                        <div class="btn-group btn-group-sm diff-selection-buttons">
                            <button type="button" class="btn btn-default diff-stage" style="display:none">Stage</button>
                            <button type="button" class="btn btn-default diff-cancel" style="display:none">Cancel</button>
                            <button type="button" class="btn btn-default diff-unstage" style="display:none">Unstage</button>
                        </div>
                    </div>
                    <div class="panel-body"></div>
                </div>
                <div class="tree-view" class="display: none"></div>
            </div>
        </div>
        <div id="workspace-view" v-show='section == "workspace"'>
            <div id="workspace-diff-view">
                <div class="diff-view-container panel panel-default">
                    <div class="panel-heading btn-toolbar" role="toolbar">
                        <button type="button" class="btn btn-sm btn-default diff-ignore-whitespace" data-toggle="button">Ignore Whitespace</button>
                        <button type="button" class="btn btn-sm btn-default diff-context-all" data-toggle="button">Complete file</button>
                        <div class="btn-group btn-group-sm">
                            <span></span>&nbsp;
                            <button type="button" class="btn btn-default diff-context-remove">-</button>
                            <button type="button" class="btn btn-default diff-context-add">+</button>
                        </div>
                        <div class="btn-group btn-group-sm diff-selection-buttons">
                            <button type="button" class="btn btn-default diff-stage" style="display:none">Stage</button>
                            <button type="button" class="btn btn-default diff-cancel" style="display:none">Cancel</button>
                            <button type="button" class="btn btn-default diff-unstage" style="display:none">Unstage</button>
                        </div>
                    </div>
                    <div class="panel-body"></div>
                </div>
            </div>
            <div id="workspace-editor">
                <!-- <div id="commit&#45;message&#45;view" class="panel panel&#45;default"> -->
                <!--     <div class="panel&#45;heading"> -->
                <!--         <h5>Message</h5> -->
                <!--         <div class="btn&#45;group btn&#45;group&#45;sm"> -->
                <!--             <button type="button" class="btn btn&#45;default commit&#45;message&#45;amend" data&#45;toggle="button">Amend</button> -->
                <!--             <button type="button" class="btn btn&#45;default commit&#45;message&#45;commit">Commit</button> -->
                <!--         </div> -->
                <!--     </div> -->
                <!--     <textarea></textarea> -->
                <!-- </div> -->
            </div>
        </div>
        <div id="files-view" v-show='section == "mounts"'>
            <div style="height: 100%">
                <tree-view :stack='stack'></tree-view>
            </div>
        </div>
    </div>
</div>

<div style='display: none'>
    <div id='sidebar-section-template'>
        <section v-if="items.length > 0">
            <h4><i :class="'fa ' + icon"></i> {{ title }}</h4>
            <ul>
                <template v-for="(item, index) in items" :key="item" :index="index">
                    <li v-if="index < limit" :class="{ 'active': sharedState.section == item.id && item.refName == sharedState.refName, 'sidebar-ref': true }" v-on:click="click(item)">{{ item.refName }}</li>
                </template>
                <li v-if="items.length > limit" class="sidebar-more" v-on:click="clickMore()">More ...</li>
                <refs :title="title" :section="section" :items="items"></refs>
            </ul>
        </section>
    </div>

    <div id='sidebar-template'>
        <div>
            <div id="sidebar-content">
                <sidebar-section title="Files" icon="fa-home" :items="mounts" :limit="100" section="mounts"></sidebar-section>
                <section id="sidebar-workspace" :class="{ 'active': sharedState.section == 'workspace' }">
                    <h4 v-on:click="click({ id: 'workspace' })"><i class="fa fa-briefcase"></i>Git Workspace</h4>
                </section>
                <sidebar-section title="Local Branches" icon="fa-code-fork" :items="localBranches" :limit="5" section="localBranches"></sidebar-section>
                <sidebar-section title="Remote Branches" icon="fa-globe" :items="remoteBranches" :limit="5" section="remoteBranches"></sidebar-section>
                <sidebar-section title="Tags" icon="fa-tags" :items="tags" :limit="5" section="tags"></sidebar-section>
            </div>
        </div>
    </div>

    <div id='tree-view'>
        <div class='tree-view'>
            <ol class="breadcrumb">
              <li v-for="(item, index) in stack" :key="item" :index="index">
                  <a v-if="index != stack.length-1" :href="item.uri" v-on:click="breadcrumbClicked(index, item)">{{ item.name }}</a>
                  <span class="active" v-if="index == stack.length-1">{{ item.name }}</span>
              </li>
            </ol>
            <div id="tree-view-tree-content" class="list-group" v-show="!isEditorOpen">
                <span v-for="item in items" :key="item" class="list-group-item">
                    <a class="name" v-on:click="click(item)" :href="item.href" :class="'tree-item-' + item.type + ' ' + (item.isSymbolicLink ? 'tree-item-symlink' : '')" >{{ item.name }}</a>
                    <span class="mtime">{{ item.mtime }}</span>
                    <span class="size">{{ item.formatedSize }}</span>&nbsp;
                    <span class="buttons">
                        <a v-if="item.type == 'blob'" class="download" title="Download" :href="item.downloadHref"><i class="fa fa-download" aria-hidden="true"></i></a>
                        <a v-if="item.local" class="external-link" title="Open in a new window" target="_blank" :href="item.href"><i class="fa fa-external-link" aria-hidden="true"></i></a>
                    </span>
                </span>
            </div>
            <div id="tree-view-blob-content" v-show="isEditorOpen">
                <div class="cm-fullscreen-container cm-flex-container">
                    <div class="cm-toolbar cm-flex-child-fixed">
                    </div>
                    <div class="cm-body cm-flex-child-grow">
                        <textarea rows="30" cols="80" id="editor" name="editor" style="display: none"></textarea>
                    </div>
                    <div class="cm-footer cm-flex-child-fixed">
                    <button v-on:click="saveAction()" type="button" class="btn btn-default btn-sm">Save <i class="fa fa-save" aria-hidden="true"></i></button>
                    <button v-on:click="saveAsAction()" type="button" class="btn btn-default btn-sm">Save as...</i></button>
                    <button v-on:click="revertAction()" type="button" class="btn btn-default btn-sm">Revert <i class="fa fa-undo" aria-hidden="true"></i></button>
                    <button v-on:click="findAction()" type="button" class="btn btn-default btn-sm">Find <i class="fa fa-search" aria-hidden="true"></i></button>
                    <button v-on:click="replaceAction()" type="button" class="btn btn-default btn-sm">Replace <i class="fa fa-random" aria-hidden="true"></i></button>
                    <button v-on:click="formatAction()" type="button" class="btn btn-default btn-sm" v-show="isPython">Format code <i class="fa fa-align-left" aria-hidden="true"></i></button>
                    <button v-on:click="settingsAction()" type="button" class="btn btn-default btn-sm" style="float: right">Settings <i class="fa fa-cog" aria-hidden="true"></i></button>
                    </div>
                </div>
            </div>
            <!-- Settings modal dialog -->
            <div class="modal fade settings-modal" tabindex="-1" role="dialog">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal"><span>&times;</span><span class="sr-only">Close</span></button>
                            <h4 class="modal-title">Settings</h4>
                        </div>
                        <div class="modal-body">
                            <span style="min-width: 8em; display: inline-block">Theme:</span>
                            <select v-model="theme">
                                <option v-for="theme in themes">
                                {{ theme }}
                                </option>
                            </select>
                            <br/>
                            <span style="min-width: 8em; display: inline-block">Mode:</span>
                            <select v-model="mode">
                                <option selected>default</option>
                                <option>emacs</option>
                                <option>sublime</option>
                                <option>vim</option>
                            </select>
                            <hr/>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id='refs-template'>
        <div class="modal fade" tabindex="-1" role="dialog">
            <div class="modal-dialog" style="color: #333">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal"><span>&times;</span><span class="sr-only">Close</span></button>
                        <h4 class="modal-title">{{ title }}</h4>
                    </div>
                    <div class="modal-body">
                        <select v-model="ref">
                            <option v-for="item in items">{{ item.refName }}</option>
                        </select>
                        <br/>
                        <hr/>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endraw %}
